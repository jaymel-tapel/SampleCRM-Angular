<div class="register-container">
   
    <app-alert [alertClass]="'danger'" *ngIf="errorMessage">
        {{ errorMessage }}
    </app-alert>
   
    <form [formGroup]="registerForm" *ngIf="!isSubmitting" (submit)="onRegister()">
        <div class="form-group">
            <input type="email" class="form-control" placeholder="Email" formControlName="email">
            <div class="form-control-error" *ngIf="registerForm.controls.email.dirty && registerForm.controls.email.errors?.email">
                Please enter a valid email.
            </div>
            <div class="form-control-error" *ngIf="registerForm.controls.email.dirty && registerForm.controls.email.errors?.required">
                This field is required.
            </div>
        </div>

        <div class="form-group">
            <input type="password" class="form-control" placeholder="Password" formControlName="password">
            <div class="form-control-error" *ngIf="registerForm.controls.password.dirty && registerForm.controls.password.errors?.required">
                This field is required.
            </div>
            <div class="form-control-error" *ngIf="registerForm.controls.password.dirty && registerForm.controls.password.errors?.minlength">
                Minimum password length is 4 characters.
            </div>
        </div>

        <div class="form-group">
            <input type="text" class="form-control" placeholder="First Name" formControlName="firstName">
            <div class="form-control-error" *ngIf="registerForm.controls.firstName.dirty && registerForm.controls.firstName.errors?.required">
                This field is required.
            </div>
        </div>

        <div class="form-group">
            <input type="text" class="form-control" placeholder="Last Name" formControlName="lastName">
            <div class="form-control-error" *ngIf="registerForm.controls.lastName.dirty && registerForm.controls.lastName.errors?.required">
                This field is required.
            </div>
        </div>

        <button type="submit" class="btn" [ngClass]="{'disabled': registerForm.invalid}">Register</button>
    </form>

    <app-loading-animation *ngIf="isSubmitting"></app-loading-animation>


    <a [routerLink]="[ '/login']">Back to Login</a>
</div>